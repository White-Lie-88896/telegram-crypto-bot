# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🤖 Telegram 加密货币监控 Bot - 配置文件
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# 使用说明：
# 1. 复制此文件并重命名为 .env
# 2. 填写必需的配置项（标记为 REQUIRED）
# 3. 根据需要调整可选配置项
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔑 Telegram Bot 配置 (必需)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Telegram Bot Token (必需)
# 获取方式：
#   1. 在 Telegram 中搜索 @BotFather
#   2. 发送 /newbot 创建新的 Bot
#   3. 按照提示完成创建，获取 Token
# 示例格式：123456789:ABCdefGhIJKlmNoPQRsTUVwxyZ
TELEGRAM_BOT_TOKEN=your_bot_token_here

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 📊 定时价格汇报配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 接收定时价格汇报的用户或群组 ID (可选)
# 获取方式：
#   个人 ID: 给 @userinfobot 发送任意消息，它会返回你的 ID
#   群组 ID: 将 @userinfobot 添加到群组，它会返回群组 ID
#
# 格式说明：
#   - 个人用户: 正数，例如 123456789
#   - 群组: 负数，例如 -1001234567890
#
# 功能说明：
#   - 每 5 分钟自动推送 BTC、ETH、ADA 价格
#   - 留空则禁用定时汇报功能
REPORT_USER_ID=

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 💾 数据库配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# SQLite 数据库连接 URL
# 说明：
#   - 使用 SQLite 数据库存储用户数据和监控任务
#   - 数据库文件将自动创建在 data/ 目录下
#   - 默认路径已优化，通常无需修改
DATABASE_URL=sqlite+aiosqlite:///./data/crypto_bot.db

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔍 监控引擎配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 监控任务检查间隔 (秒)
# 说明：
#   - 监控引擎每隔多少秒检查一次价格
#   - 建议值: 5-30 秒
#   - 过小可能导致 API 请求过频繁
#   - 过大可能错过快速价格变化
CHECK_INTERVAL=5

# 最大并发监控任务数
# 说明：
#   - 同时运行的监控任务数量上限
#   - 防止任务过多导致性能问题
#   - 建议值: 50-200
MAX_CONCURRENT_TASKS=100

# 默认冷却时间 (秒)
# 说明：
#   - 预警触发后的冷却期
#   - 防止同一预警频繁推送
#   - 默认 300 秒 (5 分钟)
DEFAULT_COOLDOWN=300

# 每日最大预警次数 (每用户)
# 说明：
#   - 防止预警消息过多骚扰用户
#   - 达到上限后当日不再发送预警
#   - 建议值: 50-200
MAX_DAILY_ALERTS=100

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🌐 Web管理后台配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Web管理后台绑定地址
# 说明：
#   - 127.0.0.1: 仅本机访问（推荐，安全）
#   - 0.0.0.0: 允许外网访问（需配置防火墙）
# 安全建议：生产环境使用 127.0.0.1 + Nginx反向代理
WEB_HOST=127.0.0.1

# Web管理后台端口
WEB_PORT=8888

# Web管理后台认证Token (必需，用于API访问认证)
# 生成方式: python -c "import secrets; print(secrets.token_hex(32))"
# 重要：请务必修改此默认值！
WEB_ADMIN_TOKEN=

# Web管理后台登录密码 (必需)
# 重要：请设置强密码！
WEB_ADMIN_PASSWORD=

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔌 HTTP超时配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# HTTP请求总超时时间 (秒)
HTTP_TIMEOUT_TOTAL=30

# HTTP连接超时时间 (秒)
HTTP_TIMEOUT_CONNECT=10

# HTTP读取超时时间 (秒)
HTTP_TIMEOUT_SOCK_READ=20

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔄 API重试配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# API最大重试次数
API_RETRY_MAX_ATTEMPTS=3

# 初始重试延迟 (秒)
API_RETRY_INITIAL_DELAY=1.0

# 重试退避因子 (每次重试延迟翻倍)
API_RETRY_BACKOFF_FACTOR=2.0

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🌐 API 配置 (可选)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Binance API 配置 (仅用于私有端点，公开数据无需配置)
# 说明：
#   - 当前 Bot 使用 Cryptocompare 公开 API
#   - 以下配置仅在需要访问 Binance 私有端点时使用
#   - 获取方式: https://www.binance.com/zh-CN/my/settings/api-management
BINANCE_API_KEY=
BINANCE_API_SECRET=

# API 请求速率限制 (每分钟)
# 说明：
#   - Binance API 每分钟请求上限
#   - 标准限制为 1200 请求/分钟
#   - 通常无需修改
BINANCE_REQUEST_LIMIT=1200

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 📝 日志配置
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 日志级别
# 可选值: DEBUG, INFO, WARNING, ERROR, CRITICAL
# 说明：
#   - DEBUG: 记录所有详细信息 (开发调试用)
#   - INFO: 记录一般信息 (推荐)
#   - WARNING: 仅记录警告和错误
#   - ERROR: 仅记录错误
#   - CRITICAL: 仅记录严重错误
LOG_LEVEL=INFO

# 日志文件路径
# 说明：
#   - 所有日志将保存到此文件
#   - 自动创建 logs/ 目录
#   - 错误日志同时保存到 logs/bot_error.log
LOG_FILE=logs/bot.log

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 🔧 高级选项
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# 调试模式
# 说明：
#   - 启用后将显示更详细的错误信息
#   - 仅在开发测试时启用
#   - 生产环境请设置为 False
DEBUG=False

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# 📖 配置完成后的操作
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
#
# 1. 确保已安装依赖:
#    pip install -r requirements.txt
#
# 2. 初始化数据库:
#    python scripts/init_db.py
#
# 3. 运行 Bot:
#    python main.py
#
# 4. (可选) 部署为系统服务:
#    sudo cp tgbot-crypto.service /etc/systemd/system/
#    sudo systemctl enable tgbot-crypto
#    sudo systemctl start tgbot-crypto
#
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
